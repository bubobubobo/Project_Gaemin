#!/usr/bin/env node

'use strict';

const path = require('path');
const gm = require('gm');
const meow = require('meow');
const globby = require('globby');
const sizer = require('.');

const cli = meow(
  `
	Usage
		$ img-sizer <files...> [...]

	Options
		--sizes    Image sizes to generate
		--quality  Image quality [Default: 80]
		--formats  Additional Image Formats to Generate [Values: jpg,webp,png]

	Examples
		$ img-sizer photo1.jpg photo2.jpg --sizes=768
		photo1-768.jpg photo2-768.jpg

		$ img-sizer photo.jpg --sizes=1280,768
		photo-1280.jpg photo-768.jpg

		$ img-sizer photo.jpg --sizes=1280 --formats=jpg,webp
		photo-1280.jpg photo-1280.webp
`
);

if (!cli.input.length) {
  console.log(cli.help);
}

sizer(globby.sync(cli.input), cli.flags);
